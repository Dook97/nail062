\chapter{(draft) Nerozhodnutelnost a neúplnost}

V této, závěrečné kapitole se budeme zabývat tím, jak lze s teoriemi pracovat algoritmicky. Zlatým hřebem budou \emph{Gödelovy věty o neúplnosti} z roku 1930, které ukazují limity formálního přístupu, a které zastavily desetiletí trvající program formalizace matematiky. Nemáme zde dostatek prostoru k uvedení formálních definic a úplných důkazů, proto se místy budeme pohybovat na poněkud intuitivní úrovni. Zaměříme se na pochopení smyslu tvrzení a myšlenek důkazů.

Pojem \emph{algoritmu} budeme chápat také jen intuitivně. Pokud bychom ho chtěli formalizovat, potom nejběžnější (ale zdaleka ne jedinou) volbou je koncept \emph{Turingova stroje}.\footnote{Viz přednáška NTIN090 Základy složitosti a vyčíslitelnosti.}

\section{Rekurzivní axiomatizace a rozhodnutelnost}

V důkazových systémech, kterými jsme se zabývali (tablo metoda, rezoluce, hilbertův kalkulus) jsme povolili, aby teorie $T$, ve které dokazujeme, byla nekonečná. Vůbec jsem se ale zatím nezabývali tím, jak je zadaná. Pokud chceme ověřit, že je daný objekt (tablo, rezoluční strom, posloupnost formulí) korektním důkazem, potřebujeme nějaký algoritmický přístup ke všem axiomům $T$. 

Jednou z možností by bylo požadovat \emph{enumerátor} $T$, tj. algoritmus, který vypisuje na výstup axiomy z $T$, a každý axiom někdy vypíše.\footnote{Nutným předpokladem je, aby $T$ byla spočetná. K tomu stačí předpokládat, že jazyk je spočetný.} Potom by bylo snadné potvrdit, že je daný důkaz korektní. Pokud bychom ale dostali důkaz, který použil chybný axiom, který v $T$ není, nikdy bychom se to nedozvěděli: nekonečně dlouho bychom čekali, zda jej enumerátor přeci jen nevypíše. Požadujeme proto silnější vlastnost, která umožňuje rozpoznat i chybné důkazy \emph{rekurzivní axiomatizaci}:\footnote{Slovo \emph{rekurzivní} zde neznamená běžně známou rekurzi, ale odkazuje na formalizaci algoritmu pomocí `rekurzivních funkcí' od Gödela. Rekurzivní funkce zde znamená totéž, co vyčíslitelná nějakým Turingovým strojem, a teorii vyčíslitelnosti (\emph{computability theory}) se někdy také říká \emph{recursion theory}.}

\begin{definition}[Rekurzivní axiomatizace]
    Teorie $T$ je \emph{rekurzivně axiomatizovaná}, pokud existuje algoritmus, který pro každou vstupní formuli $\varphi$ doběhne a odpoví, zda $\varphi\in T$.
\end{definition}

\begin{remark}
    Ve skutečnosti by nám stačil enumerátor pro $T$, pokud by bylo garantováno, že vypisuje axiomy v lexikografickém uspořádání. To už je ekvivalentní rekurzivní axiomatizaci. (Rozmyslete si proč.)
\end{remark}

Zaměříme se na otázku, zda můžeme v dané teorii $T$ `algoritmicky rozhodovat pravdu' (tj. platnost vstupní formule). Pokud ano, říkáme, že je teorie \emph{rozhodnutelná}. To je ale poměrně silná vlastnost, definujeme proto také \emph{částečnou rozhodnutelnost}, která znamená, že pokud formule platí, algoritmus nám to řekne, ale pokud neplatí, nikdy se nemusíme dočkat odpovědi.

\begin{definition}[Rozhodnutelnost]
O teorii $T$ říkáme, že je
\begin{itemize}
    \item \emph{rozhodnutelná}, pokud existuje algoritmus, který pro každou vstupní formuli $\varphi$ doběhne a odpoví, zda $T\models\varphi$,
    \item \emph{částečně rozhodnutelná}, pokud existuje algoritmus, který pro každou vstupní formuli:
    \begin{itemize}
        \item pokud $T\models\varphi$, doběhne a odpoví `ano',
        \item pokud $T\not\models\varphi$, buď nedoběhne, nebo doběhne a odpoví `ne'.
    \end{itemize}
\end{itemize}
\end{definition}
Můžeme jako obvykle předpokládat, že $\varphi$ v definici je sentence. Ukážeme si jednoduché tvrzení:

\begin{proposition}
    Nechť $T$ je rekurzivně axiomatizovaná. Potom:
    \begin{enumerate}[(i)]
        \item $T$ je částečně rozhodnutelná,
        \item je-li $T$ navíc kompletní, potom je rozhodnutelná.
    \end{enumerate}
\end{proposition}
\begin{proof}
Algoritmem ukazujícím částečnou rozhodnutelnost je konstrukce systematického tabla pro $\F\varphi$.\footnote{Zde nám stačí enumerátor axiomů $T$, nebo postupně generujeme všechny sentence (např. v lexikografickém pořadí) a pro každou testujeme, zda je axiomem.} Pokud $\varphi$ v $T$ platí, konstrukce skončí v konečně mnoha krocích a snadno ověříme, že je tablo sporné, jinak ale skončit nemusí.

Je-li $T$ kompletní, víme, že $T\proves\varphi$ právě když $T\not\proves\varphi$. Budeme tedy paralelně konstruovat tablo pro $\F\varphi$ a tablo pro $\T\varphi$ (důkaz a zamítnutí $\varphi$ z $T$): jedna z konstrukcí po konečně mnoha krocích skončí.
\end{proof}


\subsection{Rekurzivně spočetná kompletace}

Požadavek kompletnosti je příliš silný, ukážeme, že stačí pokud jsme schopni efektivně popsat všechny kompletní jednoduché extenze.\footnote{Tj. `všechny modely až na elementární ekvivalenci'.}

\begin{definition}[Rekurzivně spočetná kompletace]
Řekneme, že teorie $T$ má \emph{rekurzivně spočetnou kompletaci}, pokud (nějaká) množina až na ekvivalenci všech jednoduchých kompletních extenzí teorie $T$ je \emph{rekurzivně spočetná}, tj. existuje algoritmus, který pro danou vstupní dvojici přirozených čísel $(i,j)$ vypíše na výstup $i$-tý axiom $j$-té extenze (v nějakém pevně daném uspořádání\footnote{Zde potřebujeme, aby byl jazyk spočetný.}), nebo odpoví, že takový axiom už neexistuje.\footnote{Jeli extenzí méně než $j$, nebo má-li $j$-tá extenze méně než $i$ axiomů.}
\end{definition}

\begin{proposition}\label{propositon:recursively-enumerable-completion}    
    Pokud je teorie $T$ rekurzivně axiomatizovaná a má rekurzivně spočetnou kompletaci, potom je $T$ rozhodnutelná.
\end{proposition}
\begin{proof}
Pro danou sentenci $\varphi$ buď $T\proves\varphi$, nebo existuje protipříklad $\A\not\models\varphi$, tedy kompletní jednoduchá extenze $T_i$ teorie $T$ taková, že $T_i\not\proves\varphi$. Z kompletnosti ale plyne, že $T_i\proves\neg\varphi$. Náš algoritmus bude paralelně konstruovat tablo důkaz $\varphi$ z $T$ a (postupně) tablo důkazy $\neg\varphi$ ze všech kompletních jednoduchých extenzí $T_1,T_2,\dots$ teorie $T$.\footnote{Nevadí, že je jich nekonečně mnoho, můžeme využít tzv. \emph{dovetailing}: Provedeme 1. krok konstrukce 1. tabla, potom 2. krok 1. tabla a 1. krok 2. tabla, 3. krok 1. tabla, 2. krok 2. tabla, 1. krok 3. tabla, atd.} Víme, že alespoň jedno z paralelně konstruovaných tabel je sporné, a můžeme předpokládat, že konečné (neprodlužujeme-li sporné větve tabla), tedy algoritmus ho po konečně mnoha krocích zkonstruuje.
\end{proof}

\begin{exercise}
Ukažte, že následující teorie mají rekurzivně spočetnou kompletaci:
\begin{itemize}
\item Teorie čisté rovnosti (prázdná teorie v jazyce $L=\langle \rangle$ s rovností),
\item Teorie unárního predikátu (prázdná teorie v jazyce $L=\langle U \rangle$ s rovností, kde $U$ je unární relační symbol),
\item Teorie hustých lineárních uspořádání DeLO* (kompletní jednoduché extenze jsou popsané v Důsledku \ref{corollary:complete-simple-extensions-of-delo}),
\end{itemize}
Jde o rekurzivně axiomatizované teorie (neboť jsou konečné), jsou tedy rozhodnutelné.
\end{exercise}

\begin{example}
    Na závěr uveďme bez důkazu několik dalších příkladů rozhodnutelných teorií:
    \begin{itemize}  
        \item Teorie Booleových algeber (Alfred Tarski 1940),
        \item Teorie algebraicky uzavřených těles (Tarski 1949),
        \item Teorie komutativních grup (Wanda Szmielew 1955).
    \end{itemize}
    Tyto teorie jsou také nekompletní, ale rekurzivně axiomatizované a mají rekurzivně spočetnou kompletaci.    
\end{example}

 
\subsection{Rekurzivní axiomatizovatelnost}

V předchozí kapitole, konkrétně v Sekci \ref{section:axiomatizability}, jsme se zabývali otázkou, kdy lze popsat nějakou třídu struktur [resp. teorii] pomocí axiomů [určitého tvaru]. Nyní se zaměřme na otázku, kdy to lze udělat \emph{algoritmicky}.

\begin{definition}[Rekurzivní axiomatizovatelnost]
Třída $L$-struktur $K\subseteq\M_L$ je \emph{rekurzivně axiomatizovatelná}, pokud existuje rekurzivně axiomatizovaná $L$-teorie $T$ taková, že $K=M_L(T)$. Teorie $T'$ je \emph{rekurzivně axiomatizovatelná}, pokud je rekurzivně axiomatizovatelná třída jejích modelů, neboli pokud je $T'$ ekvivalentní nějaké rekurzivně axiomatizované teorii.
\end{definition}
\begin{remark}
    Podobně bychom mohli definovat \emph{rekurzivně spočetnou axiomatizovatelnost}.
\end{remark}

Ukažme si následující jednoduché tvrzení:

\begin{proposition}
    Je-li $\A$ konečná struktura v konečném jazyce s rovností, potom je teorie $\Th(\A)$ rekurzivně axiomatizovatelná.
\end{proposition}
\begin{remark}
    Z toho plyne i že $\Th(\A)$ je rozhodnutelná, což ale není překvapivé: platnost sentence $\varphi$ v konečné struktuře $\A$ můžeme snadno ověřit.
\end{remark}
\begin{proof}
    Očíslujme prvky domény jako $A=\{a_1,\dots,a_n\}$. Teorii $\Th(\A)$ lze axiomatizovat jedinou sentencí, která je tvaru `existuje právě $n$ prvků $a_1,\dots,a_n$ splňujících právě ty \emph{základní vztahy} o funkčních hodnotách a relacích, které platí ve struktuře $\A$'.\footnote{Například, pokud $f^\A(a_4, a_2)=a_{17}$, přidáme do konjunkce atomickou formuli $f(x_{a_4},x_{a_2})=x_{a_{17}}$ (kde $x_{a_i}$ jsou proměnné odpovídající jednotlivým prvkům). A pokud $(a_3,a_3,a_1)\in R^\A$, přidáme $R(x_{a_3},x_{a_3},x_{a_1})$.}    
\end{proof}
 
Uveďme několik standardních příkladů struktur, které lze `algoritmicky popsat':

\begin{example}\label{example:structures-recursively-axiomatizable}
Pro následující struktury je $\Th(\A)$ rekurzivně axiomatizovatelná, a tedy i rozhodnutelná:

\begin{itemize}
    \item $\langle\mathbb Z,\leq\rangle$, jde o tzv.teorii \emph{diskrétních lineárních uspořádání},        
    \item $\langle\mathbb Q,\leq\rangle$, jde o teorii DeLO,
    \item $\langle\mathbb N,S,0\rangle$, teorie \emph{následníka s nulou},
    \item $\langle\mathbb N,S,+,0\rangle$, \emph{Presburgerova aritmetika},
    \item $\langle\mathbb R,+,-,\cdot,0,1\rangle$, teorie \emph{reálně uzavřených těles},\footnote{Tento významný výsledek A. Tarského (1949) také znamená, že lze algoritmicky rozhodovat, které vlastnosti platí v Euklidovské geometrii.}
    \item $\langle \mathbb C,+,-,\cdot,0,1 \rangle$, teorie \emph{algebraicky uzavřených těles charakteristiky 0}.
\end{itemize}
\end{example}
   
\begin{corollary}
    Pro struktury uvedené v Příkladu \ref{example:structures-recursively-axiomatizable} platí, že $\Th(\A)$ je rozhodnutelná.
\end{corollary}


\begin{remark}\label{remark:std-arithmetic-not-recursively-axiomatizable}
    Jak ale vyplývá z První Gödelovy věty o neúplnosti (viz níže), teorie \emph{standardního modelu aritmetiky}, tj. struktury $\underline{\mathbb N}=\langle\mathbb N,S,+,\cdot,0,\leq\rangle$ \emph{nemá} rekurzivně axiomatizovatelnou teorii.
\end{remark}


\section{Aritmetika}

Vlastnosti přirozených čísel hrají důležitou roli nejen v matematice, ale například také v kryptografii. Připomeňme, že jazyk aritmetiky je jazyk $L=\langle S,+,\cdot,0,\leq\rangle$ s rovností. Jak jsme zmínili v Poznámce \ref{remark:std-arithmetic-not-recursively-axiomatizable}, tzv. \emph{standardní model aritmetiky} $\underline{\mathbb N}=\langle\mathbb N,S,+,\cdot,0,\leq\rangle$ nemá rekurzivně axiomatizovatelnou teorii. Proto používáme rekurzivně axiomatizované teorie, které se snaží vlastnosti $\underline{\mathbb N}$ popsat částečně; těmto teoriím říkáme \emph{aritmetiky}.

\subsection{Robinsonova a Peanova aritmetika}

Uvedeme jen dva nejdůležitější příklady aritmetik: \emph{Robinsonovu} a \emph{Peanovu}.

\begin{definition}[Robinsonova aritmetika]
\emph{Robinsonova aritmetika} je teorie $Q$ v jazyce aritmetiky sestávající z následujících (konečně mnoha) axiomů:
\begin{align*}
    &\neg S(x) = 0& &x\cdot 0=0\\
    &S(x)=S(y)\rightarrow x=y& &x\cdot S(y)=x\cdot y+x\\
    &x+0=x& &\neg x=0 \rightarrow (\exists y)(x=S(y))\\
    &x+S(y)=S(x+y)& &x\le y \leftrightarrow (\exists z)(z+x=y)\qquad
\end{align*}
\end{definition}

Robinsonova aritmetika je velmi slabá, nelze v ní dokázat například komutativitu ani asociativitu sčítání či násobení, nebo tranzitivitu uspořádání.

Na druhou stranu v ní lze dokázat všechna \emph{existenční tvrzení o numerálech}, která jsou pravdivá v $\underline{\mathbb N}$. Tím myslíme formule, které v prenexním tvaru mají pouze existenční kvantifikátory, a do kterých jsme za volné proměnné substituovali \emph{numerály} $\underline{n}=S(\dots S(0)\dots)$. Například, pro formuli $\varphi(x,y)$ tvaru $(\exists z)(x+z=y)$ je $Q\proves\varphi(\underline{1},\underline{2})$, kde $\underline{1}=S(0)$ a $\underline{2}=S(S(0))$.
    
\begin{definition}[Peanova aritmetika]
    \emph{Peanova aritmetika} $PA$ je extenze Robinsonovy  aritmetiky $Q$ o
 \myblue{schéma indukce}, tj. pro každou formuli $\varphi(x,\overline{y})$ jazyka $L$ axiom
        
        \mygreen{$$(\varphi(0,\overline{y}) \mand (\forall x)(\varphi(x,\overline{y})\to \varphi(S(x),\overline{y}))) \to (\forall x)\varphi(x,\overline{y}).\quad$$}
\end{definition}
\todo   
    
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5


    
    {\it \myblue{Poznámka}\ \ $PA$ je poměrně dobrou aproximací $\mathrm{Th}(\underline{\mathbb{N}})$, dokazuje všechny
    \smallskip
    
    základní vlastnosti platné v $\underline{\mathbb{N}}$ (např. komutativitu $+$). Na druhou stranu
    \smallskip
    
    existují sentence pravdivé v $\underline{\mathbb{N}}$ ale nezávislé v $PA$.}
    \bigskip
    
    {\it \myblue{Poznámka}\ \ V jazyce \myblue{2. řádu} lze axiomatizovat $\underline{\mathbb{N}}$ (až na izomorfismus),
    \smallskip
    
    vezmeme-li místo schéma indukce přímo axiom indukce (2. řádu)}
    
    \mygreen{$$(\forall X)\ ((X(0) \mand (\forall x)(X(x) \to X(S(x)))) \to (\forall x)\ X(x)).$$}
    
    
    
% :from slides

\subsection{Hilbertův desátý problém}\todo

% from slides:
\subsubsection*{Hilbertův 10. problém}
    \begin{itemize}
    \item Nechť $p(x_1,\dots,x_n)$ je polynom s celočíselnými koeficienty.
    \smallskip
    
    Má \mdef{Diofantická rovnice} \mygreen{$p(x_1,\dots,x_n)=0$} \myblue{celočíselné} řešení?
    \smallskip
    
    \item \myblue{Hilbert (1900)}\ \ {\it ``Nalezněte algoritmus, který po konečně mnoha krocích
    \smallskip
    
    určí, zda daná Diofantická rovnice s libovolným počtem proměnných a
    \smallskip
    
    celočíselnými koeficienty má \myblue{celočíselné} řešení.''}
    \end{itemize}
    \smallskip
    
    {\it \myblue{Poznámka}\ \ Ekvivalentně lze požadovat algoritmus rozhodující, zda existuje
    \smallskip
    
    řešení v \myblue{přirozených} číslech.}
    \medskip
    
    \smallskip
    
     \myblue{{\bf Věta} (DPRM, 1970)}\ \ {\it Problém existence celočíselného řešení dané
    \smallskip
    
    Diofantické rovnice s celočíselnými koeficienty je alg. \myblue{nerozhodnutelný}.}
    \medskip
    
    \smallskip
    
    {\bf \myblue{Důsledek}}\ \ {\it Neexistuje algoritmus rozhodující pro dané polynomy
    \smallskip
    
    $p(x_1,\dots,x_n)$, $q(x_1,\dots,x_n)$ s \myblue{přirozenými} koeficienty, zda}
    
    \mygreen{$$\underline{\mathbb{N}}\models (\exists x_1)\dots(\exists x_n)(p(x_1,\dots,x_n)=q(x_1,\dots,x_n)).$$}
    
    
    
% :from slides

\section{Nerozhodnutelnost predikátové logiky}\todo

% from slides:
\subsubsection*{Nerozhodutelnost predikátové logiky}
{\it Existuje algoritmus, rozhodující o dané sentenci, zda je \myblue{logicky} pravdivá?} %(Tedy ne v dané teorii, nebo v dané struktuře.)}
\smallskip

\begin{itemize}
\item Víme, že \myblue{Robinsonova aritmetika} $Q$ má konečně axiomů, má za model $\underline{\mathbb{N}}$
\smallskip

a stačí k důkazu \myblue{existenčních} tvrzení o numerálech, která platí v $\underline{\mathbb{N}}$.
\smallskip

\item Přesněji, pro každou existenční formuli $\varphi(x_1,\dots,x_n)$ jazyka aritmetiky

\mygreen{$$Q\vdash \varphi(x_1/\underline{a_1},\dots,x_n/\underline{a_n})\ \ \Leftrightarrow\ \ \underline{\mathbb{N}}\models \varphi[e(x_1/a_1,\dots,x_n/a_n)]$$}


pro každé $a_1,\dots,a_n \in \mathbb{N}$, kde $\underline{a_i}$ značí $a_i$-tý numerál.
\smallskip

\item Speciálně, pro $\varphi$ tvaru \mygreen{$(\exists x_1)\dots(\exists x_n)(p(x_1,\dots,x_n)=q(x_1,\dots,x_n))$,}
\smallskip

kde $p$, $q$ jsou polynomy s přirozenými koeficienty (numerály), platí

\mygreen{$$\underline{\mathbb{N}}\models \varphi\quad\Leftrightarrow\quad Q\vdash \varphi\quad\Leftrightarrow\quad \vdash \psi\to \varphi\quad \Leftrightarrow\quad \models \psi\to \varphi,$$}


kde $\psi$ je konjunkce (uzávěrů) všech axiomů $Q$.
\smallskip

\item Tedy, pokud by existoval algoritmus rozhodující \myblue{logickou pravdivost},
\smallskip

existoval by i algoritmus rozhodující, zda \mygreen{$\underline{\mathbb{N}}\models \varphi$}, což není možné.


\end{itemize}


% :from slides

\section{Gödelovy věty}\todo

% from slides:

% :from slides

\subsection{První věta o neúplnosti}\todo

% from slides:
\subsubsection*{Gödelova 1. věta o neúplnosti}
    \myblue{{\bf Věta} (Gödel)}\ \ {\it Pro každou bezespornou rekurzivně axiomatizovanou extenzi $T$

    
    Robinsonovy aritmetiky existuje sentence \myblue{pravdivá} v $\underline{\mathbb{N}}$ a \myblue{nedokazatelná} v $T$.}
    \medskip
    
    \smallskip
    
    {\it \myblue{Poznámky}
    
    \begin{itemize}
    \item ``Rekurzivně axiomatizovaná'' znamená, že je \emph{``efektivně zadaná''}.
    \smallskip
    
    \item ``Extenze R. aritmetiky'' znamená, že je \emph{``\myblue{základní aritmetické síly}''}.
    \smallskip
    
    \item Je-li navíc $\underline{\mathbb{N}}\models T$, je teorie $T$ \myblue{nekompletní}.
    \smallskip
    
    \item V důkazu sestrojená sentence vyjadřuje \emph{``\myblue{nejsem dokazatelná v $T$}''}.
    \smallskip
    
    \item Důkaz je založen na dvou principech:
    \medskip
    
    \myblue{$(a)$ aritmetizaci syntaxe},
    \medskip
    
    \myblue{$(b)$ self-referenci}.
    \end{itemize}}
    
    

    \subsection*{Aritmetizace dokazatelnosti}
    \subsubsection*{Aritmetizace - predikát dokazatelnosti}
    \begin{itemize}
    \item \myblue{Konečné objekty} syntaxe (symboly jazyka, termy, formule, konečná tabla,
    \smallskip
    
    tablo důkazy) lze vhodně \myblue{zakódovat} přirozenými čísly.
    \smallskip
    
    \item Nechť \mdef{$\lceil \varphi \rceil$} značí kód formule $\varphi$ a nechť \mdef{$\underline{\varphi}$} značí \myblue{numerál} (term jazyka
    \smallskip
    
    aritmetiky) reprezentující $\lceil \varphi \rceil$.
    \smallskip
    
    \item Je-li $T$ rekurzivně axiomatizovaná, je relace $\mathrm{Prf}_T\subseteq \mathbb{N}^2$ \myblue{rekurzivní}.

    \mygreen{$$\mathrm{Prf}_T(x,y)\ \ \Leftrightarrow\ \ \text{\it (tablo) $y$ je důkazem (sentence) $x$ v T.}$$}
    

    \item Je-li $T$ navíc extenze Robinsonovy aritmetiky $Q$, dá se dokázat, že $\mathrm{Prf}_T$ je    
    \myblue{reprezentovatelná} nějakou formulí \mdef{$Prf_T(x,y)$} tak, že pro každé $x,y\in \mathbb{N}$

    \mygreen{\begin{align*}
    Q&\vdash Prf_T(\underline{x},\underline{y}),\ \ \ \ \ \!\text{\it je-li}\ \ \ \ \mathrm{Prf}_T(x,y),\\
    Q&\vdash \neg Prf_T(\underline{x},\underline{y}),\ \ \text{\it jinak}.
    \end{align*}}
    
    \item $Prf_T(x,y)$ vyjadřuje {\it ``\myblue{$y$ je důkaz $x$ v $T$}''}.
    \smallskip
    
    \item \mdef{$(\exists y)Prf_T(x,y)$} vyjadřuje {\it ``\myblue{$x$ je dokazatelná v $T$}''}.
    \smallskip
    
    \item Je-li \mygreen{$T\vdash \varphi$}, pak \mygreen{$\underline{\mathbb{N}}\models (\exists y)Prf_T(\underline{\varphi},y)$} a navíc \mygreen{$T\vdash (\exists y)Prf_T(\underline{\varphi},y)$}.
    \end{itemize}
    
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
    
    \subsection*{Self-reference}
    \subsubsection*{Princip self-reference}
    
    \begin{itemize}
    \item \mygreen{\it Tato věta má 16 písmen.}
    \medskip
    
    \myblue{Self-reference} ve formálních systémech většinou není přímo k dispozici.
    \medskip
    
    \item \mygreen{\it Následující věta má 24 písmen ``Následující věta má 24 písmen''.}
    \medskip
    
    \myblue{Přímá reference} obvykle je k dispozici, stačí, když umíme ``mluvit''
    \smallskip
    
    o posloupnostech symbolů. Uvedená věta ale není self-referenční.
    \medskip
    
    \item \mygreen{\it Následující věta zapsaná jednou a ještě jednou v uvozovkách má 116}
    \smallskip
    
    \mygreen{\it písmen ``Následující věta zapsaná jednou a ještě jednou v uvozovkách}
    \smallskip
    
    \mygreen{\it má 116 písmen''.}
    \medskip
    
    Pomocí přímé reference lze dosáhnout self-reference. Namísto
    \smallskip
    
    \emph{``má $x$ písmen''} může být jiná vlastnost.
    \medskip
    
    \item \texttt{main()\{char *c="main()\{char *c=\%c\%s\%c; printf(c,34,}
    \smallskip
    
    \texttt{c,34);\}"; printf(c,34,c,34);\}}
    \end{itemize}
    
    
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
    
    \subsubsection*{Věta o pevném bodě}
    
    {\bf \myblue{Věta}}\ \ {\it Nechť $T$ je bezesporné rozšíření Robinsonovy aritmetiky. Pro každou
    \smallskip
    
    formuli $\varphi(x)$ jazyka teorie $T$ existuje sentence $\psi$ taková, že \mygreen{$T\vdash \psi \leftrightarrow \varphi(\underline{\psi})$}.}
    \medskip
    
    {\it \myblue{Poznámka}\ \ Sentence $\psi$ je self-referenční, říká \emph{``\myblue{splňuji podmínku $\varphi$}''.}}
    \medskip
    
    \myblue{{\it Důkaz} (idea)}\ \ Uvažme \myblue{\emph{zdvojující}} funkci $d$ takovou, že pro každou formuli $\chi(x)$
    
    \mygreen{$$d(\lceil \chi(x)\rceil)=\lceil\chi(\underline{\chi(x)}) \rceil$$}
    
    
    \begin{itemize}
    \item Platí, že $d$ je \myblue{reprezentovatelná} v $T$. Předpokládejme \emph{(pro jednoduchost)},
    \smallskip
    
    že nějakým termem, který si označme $d$, stejně jako funkci $d$.
    \smallskip
    
    \item Pak pro každou formuli $\chi(x)$ jazyka teorie $T$ platí
    
    \begin{equation}\label{eq:a}\mygreen{T\vdash d(\underline{\chi(x)})=\underline{\chi(\underline{\chi(x)})}}\end{equation}
    
    
    \item Za $\psi$ vezměme sentenci \mdef{$\varphi(d(\underline{\varphi(d(x))}))$}. Stačí ověřit \mygreen{$T \vdash d(\underline{\varphi(d(x))})=\underline{\psi}$}.
    \smallskip
    
    \item To plyne z \eqref{eq:a} pro $\chi(x)$ tvaru $\varphi(d(x))$, neboť v tom případě
    
    \mygreen{$$T\vdash d(\underline{\varphi(d(x))})=\underline{\varphi(d(\underline{\varphi(d(x))}))} \qed$$}
    
    
    \end{itemize}
    
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
    \subsection*{Nedefinovatelnost pravdy}
    \subsubsection*{Nedefinovatelnost pravdy}
    
    Řekneme, že formule $\tau(x)$ \mdef{definuje pravdu} v aritmetické teorii $T$, pokud
    \smallskip
    
    pro každou sentenci $\varphi$ platí \mygreen{$T \vdash \varphi \leftrightarrow \tau(\underline{\varphi})$}.
    \medskip
    
    \smallskip
    
    {\bf \myblue{Věta}}\ \ {\it V žádném bezesporném rozšíření Robinsonovy aritmetiky neexistuje
    \smallskip
    
    definice pravdy.}
    \medskip
    
    \myblue{{\it Důkaz}}\ \ Dle věty o pevném bodě pro $\neg\tau(x)$ existuje sentence $\varphi$ taková, že
    
    \mygreen{$$T\vdash \varphi \leftrightarrow \neg \tau(\underline{\varphi}).$$}
    
    
    Kdyby formule $\tau(x)$ definovala pravdu v $T$, bylo by
    
    \mygreen{$$T\vdash \varphi \leftrightarrow \neg \varphi,$$}
    
    
    což v bezesporné teorii není možné. $\qed$
    \medskip
    
    \smallskip
    
    {\it \myblue{Poznámka}\ \ Důkaz je založen na paradoxu lháře, sentence $\varphi$ by vyjadřovala
    \smallskip
    
    ``\myblue{nejsem pravdivá v $T$}''.}
    
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
    
    \subsection*{1. věta o neúplnosti}
    \subsubsection*{Důkaz 1. věty o neúplnosti}
    \myblue{{\bf Věta} (Gödel)}\ \ {\it Pro každou bezespornou rekurzivně axiomatizovanou extenzi $T$
    
    
    Robinsonovy aritmetiky existuje sentence \myblue{pravdivá} v $\underline{\mathbb{N}}$ a \myblue{nedokazatelná} v $T$.}
    \medskip
    
    \smallskip
    
    \myblue{{\it Důkaz}}\ \ Nechť $\varphi(x)$ je \mygreen{$\neg(\exists y)Prf_T(x,y)$}, vyjadřuje {\it ``$x$ není dokazatelná v $T$''}.
    
    \begin{itemize}
    \item Dle věty o pevném bodě pro $\varphi(x)$ existuje sentence $\psi_T$ taková, že
    
    \begin{equation}\label{eq:g1}
    \mygreen{T\vdash \psi_T \leftrightarrow \neg (\exists y)Prf_T(\underline{\psi_T},y)}.
    \end{equation}
    
    
    $\psi_T$ říká {\it ``\myblue{nejsem dokazatelná v $T$}''}. Přesněji,  $\psi_T$ je ekvivalentní sentenci
    \smallskip
    
    vyjadřující, že $\psi_T$ není dokazatelná v $T$. (Ekvivalence platí v $\underline{\mathbb{N}}$ i v $T$).
    \smallskip
    
    \item Nejprve ukážeme, že {\it $\psi_T$ není dokazatelná v $T$}. Kdyby \mdef{$T \vdash \psi_T$}, tj. $\psi_T$ je
    \smallskip
    
    lživá v $\underline{\mathbb{N}}$, pak \mygreen{$\underline{\mathbb{N}}\models (\exists y)Prf_T(\underline{\psi_T},y)$} a navíc
    \mygreen{$T\vdash (\exists y)Prf_T(\underline{\psi_T},y)$}. Tedy
    \smallskip
    
    z \eqref{eq:g1} plyne \mdef{$T \vdash \neg \psi_T$}, což ale není možné, neboť $T$ je bezesporná.
    \smallskip
    
    \item Zbývá dokázat, že $\psi_T$ je pravdivá v $\underline{\mathbb{N}}$. Kdyby ne, tj. \mygreen{$\underline{\mathbb{N}}\models \neg \psi_T$}, pak
    \smallskip
    
    \mygreen{$\underline{\mathbb{N}}\models(\exists y)Prf_T(\underline{\psi_T},y)$}. Tedy $T \vdash \psi_T$, což jsme již dokázali, že neplatí. $\qed$
    \end{itemize}
    


% :from slides

\subsection{Důsledky první věty}\todo

% from slides:
\subsubsection*{Důsledky a zesílení 1. věty}
    \myblue{{\bf Důsledek}}\ \ {\it Je-li navíc $\underline{\mathbb{N}}\models T$, je teorie $T$ nekompletní.}
    \medskip
    
    \myblue{{\it Důkaz}}\ \ Kdyby byla $T$ kompletní, pak $T\vdash \neg\psi_T$ a tedy $\underline{\mathbb{N}}\models \neg\psi_T$, což je
    \smallskip
    
    ve sporu s $\underline{\mathbb{N}}\models \psi_T$. $\qed$
    \bigskip
    
    \myblue{{\bf Důsledek}}\ \ {\it $\mathrm{Th}(\underline{\mathbb{N}})$ není rekurzivně axiomatizovatelná.}
    \medskip
    
    \myblue{{\it Důkaz}}\ \ $\mathrm{Th}(\underline{\mathbb{N}})$ je bezesporná extenze Robinsonovy aritmetiky a má model $\underline{\mathbb{N}}$.
    \smallskip
    
    Kdyby byla rekurzivně axiomatizovatelná, dle předchozího důsledku by byla
    \smallskip
    
    nekompletní, ale $\mathrm{Th}(\underline{\mathbb{N}})$ je kompletní. $\qed$
    \bigskip
    
    {\it Gödelovu 1. větu o neúplnosti lze následovně zesílit.}
    \medskip
    
    \myblue{{\bf Věta} (Rosser)}\ \ {\it Pro každou bezespornou rekurzivně axiomatizovanou extenzi
    \smallskip
    
    $T$ Robinsonovy aritmetiky existuje \myblue{nezávislá} sentence. Tedy $T$ je nekompletní.}
    
    
    {\it \myblue{Poznámka}\ \ Tedy předpoklad, že $\underline{\mathbb{N}}\models T$, je v prvním důsledku nadbytečný.}
    
% :from slides

\subsection{Druhá věta o neúplnosti}\todo

% from slides:
\subsubsection*{Gödelova 2. věta o neúplnosti}
    
    Označme \mdef{$Con_T$} sentenci \mygreen{$\neg(\exists y)Prf_T(\underline{0=1},y)$}.
    \smallskip
    Platí $\underline{\mathbb{N}}\models Con_T \Leftrightarrow T\not\vdash 0=\underline{1}$. Tedy $Con_T$ vyjadřuje, že {\it ``\myblue{$T$ je bezesporná}''.}
    \medskip
    
    \smallskip
    
    \myblue{{\bf Věta} (Gödel)}\ \ {\it Pro každou bezespornou rekurzivně axiomatizovanou extenzi $T$
    
    \myblue{Peanovy aritmetiky} platí, že $Con_T$ není dokazatelná v $T$.}
    \medskip
    
    \smallskip
    
    \myblue{{\it Důkaz} (náznak)}\ \ Nechť $\psi_T$ je Gödelova sentence {\it ``nejsem dokazatelná v $T$''}.
    \begin{itemize}
    \item V první části důkazu 1. věty o neúplnosti jsme ukázali, že

    \mygreen{
    \begin{equation}\label{eq:g2a}\text{\it ``Je-li $T$ bezesporná, pak $\psi_T$ není dokazatelná v $T$.''}
    \end{equation}}
    

    Jinak vyjádřeno, platí $Con_T\to \psi_T$.

    
    \item Je-li $T$ extenze Peanovy aritmetiky, důkaz tvrzení \eqref{eq:g2a} lze \myblue{formalizovat}

    
    v rámci $T$. Tedy \mygreen{$T \vdash Con_T \to \psi_T$}.

    
    \item Jelikož $T$ je bezesporná dle předpokladu věty, podle \eqref{eq:g2a} je
    \mygreen{$T \not\vdash \psi_T$}.

    
    \item Z předchozích dvou bodů vyplývá, že \mygreen{$T \not\vdash Con_T$}. $\qed$
    \end{itemize}
    \smallskip
    
    {\it \myblue{Poznámka} Taková teorie $T$ tedy neumí dokázat vlastní bezespornost.}
    
    
% :from slides


\subsection{Důsledky druhé věty}\todo

% from slides:
\subsubsection*{Důsledky 2. věty}
    \myblue{{\bf Důsledek}}\ \ {\it Existuje model $\mathcal{A}$ Peanovy aritmetiky t.ž. \mygreen{$\mathcal{A}\models (\exists y)Prf_{PA}(\underline{0=1},y)$}.}
    \medskip
    
    {\it \myblue{Poznámka}\ \ $\mathcal{A}$ musí být nestandardní model $PA$, svědkem musí být
    \smallskip
    
    nestandardní prvek (jiný než hodnoty numerálů).}
    \bigskip
    
    %{\it $Con_T$ nemusí být nezávislá v $T$.}
    %\medskip
    
    \myblue{{\bf Důsledek}}\ \ {\it Existuje bezesporná rekurzivně axiomatizovaná extenze $T$
    \smallskip
    
    Peanovy aritmetiky taková, že $T\vdash \neg Con_T$.}
    \medskip
    
    \smallskip
    
    \myblue{{\it Důkaz}}\ \ Nechť $T=PA \cup \{\neg Con_{PA}\}$. Pak $T$ je bezesporná, neboť $PA \not \vdash Con_{PA}$.
    \smallskip
    
    Navíc $T \vdash \neg Con_{PA}$, tj. $T$ dokazuje spornost $PA\subseteq T$, tedy i $T\vdash \neg Con_T$. $\qed$
    
    \medskip
    {\it \myblue{Poznámka}\ \ $\underline{\mathbb{N}}$ nemůže být modelem teorie $T$.}
    
    \bigskip
    
    \myblue{{\bf Důsledek}}\ \ {\it Je-li teorie množin $ZFC$ bezesporná, není $Con_{ZFC}$ dokazatelná
    \smallskip
    
    v $ZFC$.}
    
% :from slides



