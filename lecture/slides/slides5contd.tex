\documentclass{beamer}

\input{slides-header.tex}

\title{Pátá přednáška -- druhá část}
\subtitle{NAIL062 Výroková a predikátová logika}
\author{Jakub Bulín (KTIML MFF UK)}
% \institute{KTIML MFF UK}
\date{Zimní semestr 2023}


\begin{document}


\section{5.4 LI-rezoluce a Horn-SAT}


\begin{frame}{Lineární důkaz: neformálně}

    Rezoluční důkaz můžeme kromě rezolučního stromu \alert{zorganizovat i jinak}, jako tzv. \alert{lineární důkaz}:
    
    \begin{center}
        \begin{forest}
            for tree={math content,grow=west,text height=2ex, text depth=1ex}
            [C_{n+1}
                [,phantom]
                [C_n
                    [,phantom]
                    [\cdots\cdots\cdots
                        [C_2
                            [,phantom]
                            [C_1
                                [,phantom]
                                [C_0]
                                [B_0]
                            ]
                            [B_1]
                        ]
                    ]
                    [B_{n-1}]                    
                ]
                [B_n]
            ]
        \end{forest}  
    \end{center}
    
    \vspace{-6pt}

    \begin{itemize}
        \item v každém kroku máme jednu \alert{centrální} klauzuli
        \item tu rezolvujeme s \alert{boční} (`side') klauzulí
        \item boční klauzule je buď axiom z $S$, nebo některá z předchozích centrálních (jako bychom odvozené klauzule přidávali k axiomům)
        \item výsledná \alert{rezolventa je novou centrální klauzulí}
    \end{itemize}

    (Tento pohled lépe odpovídá procedurálnímu výpočtu, jde jen o to, jak vybírat vhodné boční klauzle.)

\end{frame}


\begin{frame}{Lineární důkaz: formálně}

    \begin{center}
        \begin{forest}
            for tree={math content,grow=west,text height=2ex, text depth=1ex}
            [C_{n+1}
                [,phantom]
                [C_n
                    [,phantom]
                    [\cdots\cdots\cdots
                        [C_2
                            [,phantom]
                            [C_1
                                [,phantom]
                                [C_0]
                                [B_0]
                            ]
                            [B_1]
                        ]
                    ]
                    [B_{n-1}]                    
                ]
                [B_n]
            ]
        \end{forest}  
    \end{center}

    \alert{Lineární důkaz} klauzule $C$ z formule $S$ je konečná posloupnost
    $$
    \begin{bmatrix}
        C_0 \\
        B_0
    \end{bmatrix},
    \begin{bmatrix}
        C_1 \\
        B_1
    \end{bmatrix},\dots,
    \begin{bmatrix}
        C_n \\
        B_n
    \end{bmatrix},
    C_{n+1}
    $$
    kde $C_i$ říkáme \alert{centrální} klauzule, $C_0$ je \alert{počáteční}, $C_{n+1}=C$ je \alert{koncová}, $B_i$ jsou \alert{boční} klauzule, a platí:
    \begin{itemize}
        \item $C_0\in S$, pro $i\leq n$ je $C_{i+1}$ rezolventou $C_i$ a $B_i$,
        \item $B_0\in S$, pro $i\leq n$ je $B_i\in S$ nebo $B_i=C_j$ pro nějaké $j<i$. 
    \end{itemize}
    \alert{Lineární zamítnutí} $S$ je lineární důkaz $\square$ z $S$.     

\end{frame}


\begin{frame}{Příklad a ekvivalence s rezolučním důkazem}

    Lineární zamítnutí \myexampleinline{
        $S = \{\{p, q\},\{p, \neg q\}, \{\neg p, q\}, \{\neg p, \neg q\}\}$
    }:
    \begin{center}
        \begin{forest}
            for tree={math content,grow=west,text height=2ex, text depth=1ex, l sep=3em}
            [{\square}
                [,phantom]
                [{\{\neg p\}}
                    [,phantom]
                    [{\{q\}}
                        [,phantom]
                        [{\textcolor{blue}{\{p\}}}
                            [,phantom]
                            [{\{p,q\}}]
                            [{\{p,\neg q\}}]
                        ]
                        [{\{\neg p,q\}}]
                    ]
                    [{\{\neg p,\neg q\}}]                    
                ]
                [{\textcolor{red}{\{p\}}}]
            ]
        \end{forest}  
    \end{center}
    Poslední boční klauzule $\textcolor{red}{\{p\}}$ není z $S$, ale je rovna předchozí centrální klauzuli.

    \textbf{Poznámka:} $C$ má lineární důkaz z $S$, právě když $S\proves_R C$.

    \alert{$\Rightarrow$} Z lineárního důkazu snadno vyrobíme rezoluční strom. Indukcí dle délky důkazu: máme-li boční klauzuli $B_i\notin S$, potom $B_i=C_j$ pro nějaké $j<i$: místo $B_i$ připojíme rezoluční strom pro $C_j$ z $S$. 
    
    \alert{$\Leftarrow$} Plyne z úplnosti lineární rezoluce, důkaz najdete v učebnici.
        
\end{frame}





\end{document}
