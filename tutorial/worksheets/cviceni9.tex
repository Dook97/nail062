\documentclass[a4paper,12pt]{article}

\input{header.tex}

\begin{document}

\section*{NAIL062 V\&P Logika: 9. cvičení}
% po 7. přednášce

\textbf{Témata:}
Tablo metoda v predikátové logice, jazyky s rovností.




\medskip\begin{problem}
    Uvažme $\underline{\mathbb{Z}}_4=\langle\{0,1,2,3\},+,-,0 \rangle$ kde $+$ je binární sčítání modulo $4$ a $-$ je unární funkce, která vrací \emph{inverzní} prvek $+$ vzhledem k \emph{neutrálnímu} prvku $0$.
    \begin{enumerate}        
        \item Je $\underline{\mathbb{Z}}_4$ model teorie grup (tj. je to \emph{grupa})?
        \item Určete všechny podstruktury $\underline{\mathbb{Z}}_4\langle a\rangle$ generované nějakým $a\in \mathbb{Z}_4$.
        \item Obsahuje $\underline{\mathbb{Z}}_4$ ještě nějaké další podstruktury?
        \item Je každá podstruktura $\underline{\mathbb{Z}}_4$ modelem teorie grup?
        \item Je každá podstruktura $\underline{\mathbb{Z}}_4$ elementárně ekvivalentní $\underline{\mathbb{Z}}_4$?
        \item Je každá podstruktura \emph{komutativní} grupy (tj. grupy, která splňuje $x+y=y+x$) také komutativní grupa?
    \end{enumerate}
\end{problem}
 
        
\medskip\begin{problem}
    Buď $\underline{\mathbb{Q}}=\langle\mathbb{Q},+,-,\cdot,0,1 \rangle$ těleso racionálních čísel se standardními operacemi.
    \begin{enumerate}                
        \item Existuje redukt $\underline{\mathbb{Q}}$, který je modelem teorie grup?
        \item Lze redukt $\langle\mathbb{Q},\cdot,1\rangle$ rozšířit na model teorie grup?
        \item Obsahuje $\underline{\mathbb{Q}}$ podstrukturu, která není elementárně ekvivalentní $\underline{\mathbb{Q}}$?
        \item Označmě $Th(\underline{\mathbb{Q}})$ množinu všech sentencí pravdivých v $\underline{\mathbb{Q}}$. Je $Th(\underline{\mathbb{Q}})$ úplná teorie?
    \end{enumerate}
\end{problem}
    

\medskip\begin{problem}
    Mějme teorii $T=\{x=c_1 \vee x=c_2 \vee x=c_3\}$ v jazyce $L=\langle c_1,c_2,c_3\rangle$ s rovností.
    \begin{enumerate}        
        \item Je $T$ (sémanticky) konzistentní?
        \item Jsou všechny modely $T$ elementárně ekvivalentní? Tj. je $T$ kompletní?
        \item Najděte všechny jednoduché úplné extenze $T$.
        \item Je teorie $T'=T\cup\{x=c_1 \vee x=c_4\}$ v jazyce $L=\langle c_1,c_2,c_3,c_4\rangle$ extenzí $T$? Je $T'$ jednoduchá extenze $T$? Je $T'$ konzervativní extenze $T$?
    \end{enumerate}
\end{problem}


\medskip\begin{problem}
Buď $T=\{\neg E(x,x), E(x,y)\to E(y,x), (\exists x)(\exists y)(\exists z)(E(x,y)\wedge E(y,z)\wedge E(x,z)\wedge \neg(x=y\vee y=z\vee x=z)),\varphi\}$ teorie v jazyce $L=\langle E\rangle$ s rovností, kde $E$ je binární relační symbol a $\varphi$ vyjadřuje, že ``existují právě čtyři prvky''.
\begin{enumerate}    
    \item Uvažme rozšíření $L'=\langle E,c\rangle$ jazyka o nový konstantní symbol $c$. Určete počet (až na ekvivalenci) teorií $T'$ v jazyce $L'$, které jsou extenzemi teorie $T$. 
    \item Má $T$ nějakou \emph{konzervativní} extenzi v jazyce $L'$? Zdůvodněte.
\end{enumerate}
\end{problem}


\medskip\begin{problem}
Nechť $T=\{x=f(f(x)),\varphi, c_1 \ne c_2\}$ je teorie jazyka $L=\langle f,c_1,c_2\rangle$ s rovností, kde $f$ je unární funkční, $c_1,c_2$ jsou konstantní symboly a axiom $\varphi$ vyjadřuje, že ``existují právě $3$ prvky''.
\begin{enumerate}    
    \item Určete, kolik má teorie $T$ navzájem neekvivalentních jednoduchých kompletních extenzí. Napište dvě z nich. {\it (3b)}
    \item Nechť $T'=\{x=f(f(x)),\varphi,f(c_1)\ne f(c_2)\}$ je teorie stejného jazyka, axiom $\varphi$ je stejný jako výše. Je $T'$ extenze $T$? Je $T$ extenze $T'$? Pokud ano, jde o konzervativní extenzi? Uveďte zdůvodnění. {\it (2b)}
\end{enumerate}
\end{problem}



\medskip\begin{problem}
Nechť $T_n = \{c_i \neq c_j | 1 \leq i < j \leq n\}$ označuje teorii jazyka $L_n = \langle c_1, \dots, c_n \rangle$ s rovností, kde $c_1, \dots, c_n$ jsou konstantní symboly.
\begin{enumerate}    
    \item Pro dané konečné $n \geq 1$ určete počet modelů konečné velikosti $k$ teorie $T_n$ až na izomorfismus. Určete počet spočetných modelů teorie $T_n$. 
    \item Pro jaké dvojice hodnot $n$ a $m$ je $T_n$ extenzí $T_m$? Pro jaké je konzervativní extenzí? Zdůvodněte.
\end{enumerate}
\end{problem}


\medskip\begin{problem}
Buď $T'$ extenze teorie $T=\{(\exists y)(x+y=0),(x+y=0)\wedge (x+z=0)\rightarrow y=z\}$ v jazyce $L=\langle +,0,\le\rangle$ s rovností o definice $<$ a unárního $-$ s axiomy
\begin{align*}
    -x=y\ \ &\leftrightarrow\ \ x+y=0\\
    x<y\ \ &\leftrightarrow\ \ x\le y\ \wedge\ \neg(x=y)
\end{align*}
Najděte formule v jazyce $L$, které jsou ekvivalentní v $T'$ s následujícími formulemi.
\begin{enumerate}    
    \item $x+(-x)=0$
    \item $x+(-y)<x$
    \item $-(x+y)<-x$
\end{enumerate}
\end{problem}


\medskip\begin{problem}
Mějme jazyk $L=\langle F \rangle$ s rovností, kde $F$ je binární funkční symbol. Najděte formule definující následující množiny (bez parametrů):
\begin{enumerate}
    \item interval $(0,\infty)$ v $\mathcal A=\langle\mathbb R, \cdot\rangle$ kde $\cdot$ je násobení reálných čísel,
    \item množina $\{(x, 1/x)\mid x\neq 0\}$ ve stejné struktuře $\mathcal A$,
    \item množina všech nejvýše jednoprvkových podmnožin $\mathbb N$ v $\mathcal B=\langle\mathcal P(\mathbb N),\cup\rangle$,
    \item množina všech prvočísel v $\mathcal C=\langle \mathbb N\cup\{0\}, \cdot\rangle$.
\end{enumerate}
\end{problem}


\medskip\begin{problem} % move to tutorial 13?
Nechť $\mathcal{A}=\langle\mathbb{Z},\mathrm{abs}^A \rangle$ je struktura jazyka $L=\langle \mathrm{abs} \rangle$ s rovností, kde $\mathrm{abs}$ je unární funkční symbol a $\mathrm{abs}^A$ je funkce absolutní hodnoty v $\mathbb{Z}$.
\begin{enumerate}
    \item Nalezněte příklady $(i)$ netriviální (t.j. jiné než $\emptyset$ a $\mathbb{Z}$) množiny definovatelné v $\mathcal{A}$ bez parametrů a $(ii)$ množiny nedefinovatelné v $\mathcal{A}$ bez parametrů.
    \item Mějme $L$-strukturu $\mathcal{B}=\langle\mathbb{N},\mathrm{id} \rangle$, kde $\mathrm{id}$ je identita. Je $Th(\mathcal{A})$ extenzí $Th(\mathcal{B})$?
\end{enumerate}
\end{problem}


\medskip\begin{problem}
    Předpokládejme, že:
    \begin{itemize}\it
    \item Všichni viníci jsou lháři.
    \item Alespoň jeden z obviněných je také svědkem.
    \item Žádný svědek nelže.
    \end{itemize}
    Dokažte tablo metodou, že: {\it Ne všichni obvinění jsou viníci.}
\end{problem} 
    

\medskip\begin{problem}
Uvažte následující tvrzení:
\begin{enumerate}[label=(\roman*)] \it 
    \item Nula je malé číslo.
    \item Číslo je malé, právě když je blízko nuly.
    \item Součet dvou malých čísel je malé číslo.
    \item Je-li $x$ blízko $y$, potom $f(x)$ je blízko $f(y)$.
\end{enumerate}
Chceme dokázat, že platí: {\it (v) Jsou-li $x$ a $y$ malá čísla, potom $f(x+y)$ je blízko $f(0)$.}

\begin{enumerate}
\item Formalizujte tvrzení po řadě jako sentence $\varphi_1,\dots,\varphi_5$ v jazyce $L=\langle M,B,f,+,0\rangle$ s rovností.
%, kde $M$ je unární relační symbol ($M(x)$ značí, že ``$x$ je malé''), $B$ je binární relační symbol ($B(x,y)$ značí, že ``$x$ je blízko $y$''), $f$ je unární funkční symbol, $+$ je binární funkční symbol (označující součet) a $0$ je konstantní symbol.
\item Sestrojte dokončené tablo z teorie $T=\{\varphi_1,\varphi_2,\varphi_3,\varphi_4\}$ s položkou $F\varphi_5$ v kořeni.
% {\it (Nápověda: Axiomy rovnosti nejsou v tablu nezbytné.)}
\item Rozhodněte, zda platí $T\models \varphi_5$ a zda platí $T\models M(f(0))$.

\item Pokud existují, uveďte alespoň dvě kompletní jednoduché extenze teorie $T$.
\end{enumerate}
\end{problem}

    
\medskip\begin{problem} Nechť $L(x,y)$ reprezentuje \emph{``existuje let z $x$ do $y$''} a $S(x,y)$ reprezentuje \emph{``existuje spojení z $x$ do $y$''}. Předpokládejme, že
    \begin{itemize}  
    \item Z Prahy lze letět do Bratislavy, Londýna a New Yorku, a z New Yorku do Paříže,
    \item $(\forall x)(\forall y)(L(x,y) \to L(y,x))$,
    \item $(\forall x)(\forall y)(L(x,y)\to S(x,y))$,
    \item $(\forall x)(\forall y)(\forall z)(S(x,y)\wedge L(y,z)\to S(x,z))$.
    \end{itemize}
    Dokažte tablo metodou, že existuje spojení z Bratislavy do Paříže.
\end{problem}


\medskip\begin{problem} Mějme teorii $T^*$ s axiomy rovnosti. Pomocí tablo metody ukažte, že:
\begin{enumerate} 
    \item $T^*\models x=y\ \to\ y=x$\hfill(symetrie)
    \item $T^*\models (x=y\ \wedge\ y=z)\ \to\ x=z$\hfill(tranzitivita)
\end{enumerate}
{\it Hint:} Pro (a) použijte axiom rovnosti $(iii)$ pro $x_1=x$, $x_2=x$, $y_1=y$ a $y_2=x$, \newline
    na (b) použijte $(iii)$ pro $x_1=x$, $x_2=y$, $y_1=x$ a $y_2=z$.
\end{problem}


\medskip\begin{problem} 
Buď $T$ následující teorie v jazyce $L=\langle R,f,c,d\rangle$ s rovností, kde $R$ je binární relační symbol,  $f$ unární funkční symbol, a $c,d$ konstantní symboly:
$$
T=\{R(x,x),R(x,y)\wedge R(y,z)\to R(x,z),R(x,y)\wedge R(y,x)\to x=y,R(f(x),x)\}
$$
Označme jako $T'$ generální uzávěr $T$. Nechť $\varphi$ a $\psi$ jsou následující formule:
\begin{align*}
    \varphi &= R(c,d) \wedge (\forall x)(x=c\vee x=d)\\
    \psi &= (\exists x)R(x,f(x))
\end{align*}
\begin{enumerate}
    \item Sestrojte tablo důkaz formule $\psi$ z teorie $T'\cup\{\varphi\}$. (Pro zjednodušení můžete kromě axiomů rovnosti v tablu přímo používat axiom $(\forall x)(\forall y)(x=y\to y=x)$, což je jejich důsledek.)
    \item Ukažte, že $\psi$ není důsledek teorie $T$, tím že najdete model $T$, ve kterém $\psi$ neplatí.
    \item Kolik kompletních jednoduchých extenzí (až na ekvivalenci) má teorie $T\cup \{\varphi\}$? Uveďte dvě.
    \item Nechť $S$ je následující teorie v jazyce $L'=\langle R\rangle$ s rovností. Je $T$ konzervativní extenzí $S$?
     $$S=\{R(x,x),R(x,y)\wedge R(y,z)\to R(x,z),R(x,y)\wedge R(y,x)\to x=y\}$$     
\end{enumerate}
\end{problem}


\medskip\begin{problem} % could be moved to tutorial 10
    Ukažme, že platí následující pravidla `vytýkání' kvantifikátorů. Používáme je při převodu do tzv. \emph{Prenexní normální formy}. V následujících příkladech jsou $\varphi$ a $\psi$ sentence nebo formule s volnou proměnnou $x$ (což značíme $\varphi(x)$, $\psi(x)$). Najděte tablo důkazy dané formule. Vyzkoušejte několik z nich, zejména poslední dva.
\begin{enumerate}[noitemsep]
    \item $\neg(\exists x)\varphi(x)\to (\forall x)\neg \varphi(x)$,
    \item $(\forall x)\neg \varphi(x)\to \neg(\exists x)\varphi(x)$,
    \item $(\exists x)(\varphi(x)\vee \psi(x))\leftrightarrow (\exists x)\varphi(x)\vee (\exists x)\psi(x)$,
    \item $(\forall x)(\varphi(x)\wedge\psi(x))\leftrightarrow (\forall x)\varphi(x)\wedge(\forall x)\psi(x)$,
    \item $(\varphi \vee (\forall x)\psi(x))\to (\forall x)(\varphi \vee \psi(x))$ kde $x$ není volná v $\varphi$,
    \item $(\varphi \wedge (\exists x)\psi(x))\to (\exists x)(\varphi \wedge \psi(x))$ kde $x$ není volná v $\varphi$.
    \item $(\exists x)(\varphi \to \psi(x))\to(\varphi \to (\exists x)\psi(x))$ kde $x$ není volná v $\varphi$,
    \item $(\exists x)(\varphi \wedge \psi(x))\to(\varphi \wedge (\exists x)\psi(x))$ kde $x$ není volná v $\varphi$,
    \item $(\exists x)(\varphi(x)\to\psi)\to((\forall x)\varphi(x)\to \psi)$ kde $x$ není volná v $\psi$,
    \item $((\exists x)\varphi(x)\to\psi)\to(\forall x)(\varphi(x)\to \psi)$ kde $x$ není volná v $\psi$.
\end{enumerate}
\end{problem}


\medskip\begin{problem} Dokažte syntakticky, pomocí transformací tabel:
\begin{enumerate}
    \item Větu o konstantách: Buď $\varphi$ formule v jazyce $L$ s volnými proměnnými $x_1,\dots,x_n$ a $T$ teorie v $L$. Označme $L'$ extenzi $L$ o nové konstantní symboly $c_1,\dots,c_n$ a $T'$ teorii $T$ v $L'$. Potom platí:
    $T \vdash (\forall x_1)\dots(\forall x_n)\varphi$ právě když $T'\vdash\varphi(x_1/c_1,\dots,x_n/c_n)$
    \item Větu o dedukci: Pro každou teorii $T$ (v uzavřené formě) a sentence $\varphi$, $\psi$ platí: $T\vdash \varphi\to\psi$ právě když $T,\varphi\vdash\psi$
\end{enumerate}
\end{problem} 
  

\medskip\begin{ukol}[3 body]
    Uvažte následující tvrzení:
    \begin{enumerate}[label=(\roman*)]\it
        \item Každý docent napsal alespoň jednu učebnici.
        \item Každou učebnici napsal nějaký docent.
        \item U každého docenta někdo studuje.
        \item Každý, kdo studuje u nějakého docenta, přečetl všechny učebnice od tohoto docenta.
        \item Každou učebnici někdo přečetl.
    \end{enumerate}    
    \begin{enumerate}
    \item Formalizujte tvrzení (i)--(v) po řadě jako \underline{sentence} $\varphi_1,\varphi_2,\varphi_3,\varphi_4,\varphi_5$ v predikátové logice v jazyce $L=\langle N, S, P, D, U\rangle$ bez rovnosti, kde $N,S,P$ jsou binární relační symboly ($N(x,y)$ znamená ``$x$ napsal $y$'', $S(x,y)$ znamená ``$x$ studuje u $y$'', $P(x,y)$ znamená ``$x$ přečetl $y$'') a $D,U$ jsou unární relační symboly (``být docentem'', ``být učebnicí''). {\it (2b)}
    \item Sestrojte dokončené tablo z teorie $T=\{\varphi_1,\varphi_2,\varphi_3,\varphi_4\}$ s položkou $F\varphi_5$ v kořeni. {\it (3b)}
    \item Je sentence $\varphi_5$ pravdivá v teorii $T$? Je lživá v $T$? Je nezávislá v $T$? Zdůvodněte. {\it (1b)}
    \item Má teorie $T$ kompletní konzervativní extenzi? Zdůvodněte. {\it (2b)}
    \item Uvažme teorii $T'=T\cup \{D(x),S(x,y),P(x,y)\}$. Kolik má teorie $T'$ dvouprvkových modelů (až na izomorfismus)? Zdůvodněte. {\it (2b)}
    \end{enumerate}
\end{ukol}

\end{document}